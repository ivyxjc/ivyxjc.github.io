<!DOCTYPE html>












  


<html class="theme-next muse use-motion" lang="">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2"/>
<meta name="theme-color" content="#222"/>
























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0"/>

<link rel="stylesheet" href="/css/main.css?v=7.1.2"/>


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.1.2">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.1.2">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.1.2">


  <link rel="mask-icon" href="/images/logo.svg?v=7.1.2" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '7.1.2',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: false,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="Codeforces Education Round7几道题目的解答">
<meta name="keywords" content="onlinejudge,格式化输出,io,线段树,区间查询">
<meta property="og:type" content="article">
<meta property="og:title" content="Codeforces Education Round7">
<meta property="og:url" content="https://ivyxjc.xyz/2016/02/18/algorithm/oj/Codeforces/eduRound/2016-02-18-Codeforces-Edu-Round7总结/index.html">
<meta property="og:site_name" content="Ivyxjc">
<meta property="og:description" content="Codeforces Education Round7几道题目的解答">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2018-08-09T10:10:11.285Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Codeforces Education Round7">
<meta name="twitter:description" content="Codeforces Education Round7几道题目的解答">



  <link rel="alternate" href="/atom.xml" title="Ivyxjc" type="application/atom+xml"/>



  
  
  <link rel="canonical" href="https://ivyxjc.xyz/2016/02/18/algorithm/oj/Codeforces/eduRound/2016-02-18-Codeforces-Edu-Round7总结/"/>



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>Codeforces Education Round7 | Ivyxjc</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Ivyxjc</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Navigationsleiste an/ausschalten">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br/>Startseite</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br/>Archiv</a>

  </li>

      
      
    </ul>
  

  
    

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://ivyxjc.xyz/2016/02/18/algorithm/oj/Codeforces/eduRound/2016-02-18-Codeforces-Edu-Round7总结/"/>

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Ivyxjc"/>
      <meta itemprop="description" content=""/>
      <meta itemprop="image" content="/images/avatar.gif"/>
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ivyxjc"/>
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Codeforces Education Round7

              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              

              
                
              

              <time title="Erstellt: 2016-02-18 00:00:00" itemprop="dateCreated datePublished" datetime="2016-02-18T00:00:00+08:00">2016-02-18</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Bearbeitet am</span>
                
                <time title="Geändert am: 2018-08-09 18:10:11" itemprop="dateModified" datetime="2018-08-09T18:10:11+08:00">2018-08-09</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">in</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Algorithm/" itemprop="url" rel="index"><span itemprop="name">Algorithm</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          
            <div class="post-description">Codeforces Education Round7几道题目的解答</div>
          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p><a href="http://codeforces.com/contest/622/" target="_blank" rel="noopener">题目网址</a></p>
<h2 id="A-Infinite-Sequence"><a href="#A-Infinite-Sequence" class="headerlink" title="A:Infinite Sequence"></a>A:Infinite Sequence</h2><p>A题比较简单,主要就利用公式$ \sum_{k=1}^n k=\frac {(1+n)* n}{2} $来确定距离所要求的数字最近的一个1所在的位置。然后就可得到该数值了。<br><br>代码如下：</p>
<h3 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Round7_A</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        Scanner in=<span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        <span class="keyword">long</span>  a=in.nextLong();</span><br><span class="line">        <span class="keyword">long</span> a_one=count(a);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(a_one*a_one+a_one==<span class="number">2</span>*a)&#123;</span><br><span class="line">            System.out.println(a_one);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">long</span> tmp=(<span class="keyword">long</span>)a-(a_one*a_one+a_one)/<span class="number">2</span>;</span><br><span class="line">            System.out.println(tmp);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">long</span> <span class="title">count</span><span class="params">(<span class="keyword">long</span>  num)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">long</span> num_two = <span class="number">2</span> * num;</span><br><span class="line">        <span class="keyword">long</span> i = (<span class="keyword">long</span>) Math.sqrt(num_two) - <span class="number">1</span>;</span><br><span class="line">        <span class="comment">//System.out.println(i);</span></span><br><span class="line">        <span class="keyword">if</span> (i &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">            i = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (; i &lt;= num; i++) &#123;</span><br><span class="line">            <span class="comment">//System.out.println(i);</span></span><br><span class="line">            <span class="keyword">if</span> (i * i + i == num_two) &#123;</span><br><span class="line">                <span class="keyword">return</span> i;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (i * i + i &gt; num_two) &#123;</span><br><span class="line">                <span class="keyword">return</span> i - <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="B-The-Time"><a href="#B-The-Time" class="headerlink" title="B. The Time"></a>B. The Time</h2><p>B题也比较简单，主要就注意几个边界条件即可以及格式化输出即可。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//num只有个位时，会自动在十位补0</span></span><br><span class="line">DecimalFormat df=<span class="keyword">new</span> DecimalFormat(<span class="string">"00"</span>);</span><br><span class="line">df.format(num);</span><br></pre></td></tr></table></figure>
<h2 id="C-Not-Equal-on-a-Segment"><a href="#C-Not-Equal-on-a-Segment" class="headerlink" title="C. Not Equal on a Segment"></a>C. Not Equal on a Segment</h2><h3 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h3><p>题意为查询一个数组的某一区间是否存在指定的$$$x$$$不相同的数，若不存在输出-1，否则输出任意一个不相同的树的秩。<br></p>
<h3 id="解法介绍"><a href="#解法介绍" class="headerlink" title="解法介绍"></a>解法介绍</h3><p>1.暴力解法就是遍历整个区间，但时间肯定不够。<br></p>
<p>2.线段树法：线段树广泛用于区间查询，但是该题仅需输出任意一个不相同的树的位置即可，所以可以不用该法。(其实我还没有特别熟线段树)</p>
<p>3.解法：设输入数据的数组为<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">创建一个数组```diff[]=new int[arrayLength]```使其任意秩```diff[i]```值为满足$$$ a_j \ne a_i (j&gt;i) $$$的第一个j的值。这也是官方答案所给的解法。代码如下：&lt;br&gt;</span><br><span class="line"></span><br><span class="line">### 边界条件</span><br><span class="line">该代码需要考虑到的边界条件有：&lt;br&gt;</span><br></pre></td></tr></table></figure></p>
<p>1.数组内容全部相同<br>2.数组内容出现连续相同的项<br>3.数组内容全部不相同<br>4.diff数组的最后一项是否有值(统一将diff数组的最后一项设为数组长度)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 代码</span><br><span class="line"></span><br><span class="line">```java</span><br><span class="line">int tmpI=0;</span><br><span class="line">for(int j=tmpI+1;j&lt;arrayLength;)&#123;</span><br><span class="line">    if(array[j]==array[tmpI]) &#123;</span><br><span class="line">        j++;</span><br><span class="line">        continue;</span><br><span class="line">    &#125;</span><br><span class="line">    for(;tmpI&lt;j;tmpI++)&#123;</span><br><span class="line">        diff[tmpI]=j;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">//若数组中最后出现连续相同的项，上述代码不能将这些项赋值为arrayLength</span><br><span class="line">//所以需要下面的代码</span><br><span class="line">for(int i=tmpI;i&lt;arrayLength;i++)&#123;</span><br><span class="line">    diff[i]=arrayLength;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">diff[arrayLength-1]=arrayLength;</span><br></pre></td></tr></table></figure>
<p>查询时使用的代码:<br></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;queryTimes;i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> left=getInt()-<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> right=getInt()-<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> x=getInt();</span><br><span class="line">        <span class="keyword">if</span>(array[left]!=x)&#123;</span><br><span class="line">            writer.write((left+<span class="number">1</span>)+<span class="string">"\n"</span>);</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(diff[left]&gt;right)&#123;</span><br><span class="line">            writer.write((-<span class="number">1</span>)+<span class="string">"\n"</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            writer.write((diff[left]+<span class="number">1</span>)+<span class="string">"\n"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    writer.flush();</span><br><span class="line">&#125;<span class="keyword">catch</span> (IOException e)&#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="IO问题"><a href="#IO问题" class="headerlink" title="IO问题"></a>IO问题</h3><p>这一题以及下面的e题还有一个问题就是如果使用<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">我使用了[ java_acm快速输入和输出 ][1]中提供的一个输入输出方法，代码如下</span><br><span class="line">#### 解决代码</span><br><span class="line"></span><br><span class="line">```java</span><br><span class="line">public class Main &#123;  </span><br><span class="line">    private static Reader reader = null;  </span><br><span class="line">    private static Writer writer = null;  </span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) &#123;  </span><br><span class="line">        reader = new InputStreamReader(System.in);  </span><br><span class="line">        writer = new OutputStreamWriter(System.out);  </span><br><span class="line">        try &#123;  </span><br><span class="line">                m = getInt();  </span><br><span class="line">                writer.write(&quot;something&quot;);  </span><br><span class="line">                writer.flush();  </span><br><span class="line">            &#125;  </span><br><span class="line">        &#125; catch (Exception e) &#123;  </span><br><span class="line">            e.printStackTrace();  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 获取键盘输入的整数</span><br><span class="line">     *  </span><br><span class="line">     * @return 输入的整数</span><br><span class="line">     */  </span><br><span class="line">    public static int getInt() &#123;  </span><br><span class="line">        int read;  </span><br><span class="line">        int res = 0;  </span><br><span class="line">        boolean isNegative = false;// 是不是负数  </span><br><span class="line">        try &#123;  </span><br><span class="line">            while ((read = reader.read()) != -1) &#123;  </span><br><span class="line">                if ((char) read == &apos;-&apos;) &#123;  </span><br><span class="line">                    res = 0;  </span><br><span class="line">                    isNegative = true;  </span><br><span class="line">                    break;  </span><br><span class="line">                &#125; else if (isNumber((char) read)) &#123;  </span><br><span class="line">                    res = read - &apos;0&apos;;  </span><br><span class="line">                    break;  </span><br><span class="line">                &#125;  </span><br><span class="line">            &#125;  </span><br><span class="line">            while ((read = reader.read()) != -1) &#123;  </span><br><span class="line">                char ch = (char) read;  </span><br><span class="line">                if (isNumber(ch)) &#123;  </span><br><span class="line">                    res = res * 10 + (read - &apos;0&apos;);  </span><br><span class="line">                &#125; else &#123;  </span><br><span class="line">                    break;  </span><br><span class="line">                &#125;  </span><br><span class="line">            &#125;  </span><br><span class="line">        &#125; catch (IOException e) &#123;  </span><br><span class="line">            // TODO Auto-generated catch block  </span><br><span class="line">            e.printStackTrace();  </span><br><span class="line">        &#125;  </span><br><span class="line">        if (isNegative == true) &#123;  </span><br><span class="line">            res = -1 * res;  </span><br><span class="line">        &#125;  </span><br><span class="line">        return res;  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 判断字符是否空白</span><br><span class="line">     *  </span><br><span class="line">     * @param ch</span><br><span class="line">     *            字符</span><br><span class="line">     * @return 判断结果</span><br><span class="line">     */  </span><br><span class="line">    public static boolean isBlank(char ch) &#123;  </span><br><span class="line">        if (ch == &apos;\r&apos; || ch == &apos;\n&apos; || ch == &apos; &apos;) &#123;  </span><br><span class="line">            return true;  </span><br><span class="line">        &#125;  </span><br><span class="line">        return false;  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 判断字符是不是数字</span><br><span class="line">     *  </span><br><span class="line">     * @param ch</span><br><span class="line">     *            字符</span><br><span class="line">     * @return 判断结果</span><br><span class="line">     */  </span><br><span class="line">    public static boolean isNumber(char ch) &#123;  </span><br><span class="line">        if (ch &lt;= &apos;9&apos; &amp;&amp; ch &gt;= &apos;0&apos;) &#123;  </span><br><span class="line">            return true;  </span><br><span class="line">        &#125;  </span><br><span class="line">        return false;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="E-Ants-in-Leaves"><a href="#E-Ants-in-Leaves" class="headerlink" title="E. Ants in Leaves"></a>E. Ants in Leaves</h2><h3 id="题目-1"><a href="#题目-1" class="headerlink" title="题目"></a>题目</h3><p>You are given a tree with n vertices and a root in the vertex 1. There is an ant in each leaf of the tree. In one second some ants can simultaneously go to the parent vertex from the vertex they were in. No two ants can be in the same vertex simultaneously except for the root of the tree.<br></p>
<p>Find the minimal time required for all ants to be in the root of the tree.<br></p>
<p>题意：n只蚂蚁从树的叶节点向根节点爬，每秒只能爬到它的父节点处，但是除了根节点，其它所有节点都只能同时存在一只蚂蚁。<br></p>
<h3 id="解法"><a href="#解法" class="headerlink" title="解法"></a>解法</h3><p>This problem was suggested by Aleksa Plavsic allllekssssa.</p>
<p>Let z be the array of the depths of all leaves in the subtree of the vertex v. Let’s sort z.</p>
<p>Statement 1: it’s profitable to lift the leaves in order of their appearing in z.</p>
<p>Statement 2: denote ax — the time of appearing the x-th leaf in the vertex v, let’s consider the leaves $$$z_i$$$ and $$$z_{i+1}$$$ then  $$$a_{z_i+1} \geq  a_{z_i}+1$$$.</p>
<p>Statement 3: $$$a_{z_i+1}=max(d_{z_i}+1,a_{z_i}+1)$$$, where $$$d_x$$$ is the depth of the x-th leaf in the subtree of the vertex v. The last statement gives us the solution for the problem: we should simply iterate over z from left to right and recalculate the array a by formula from the third statement. All statements can be easily proved and it’s recommended to do by yourself to understand better the idea of the solution.</p>
<h4 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h4><h5 id="建图"><a href="#建图" class="headerlink" title="建图"></a>建图</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> V=getInt();</span><br><span class="line">    Graph G=<span class="keyword">new</span> Graph(V,V-<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;V-<span class="number">1</span>;i++)&#123;</span><br><span class="line">        G.addEdge(getInt(),getInt());</span><br><span class="line">    &#125;</span><br><span class="line">    G.dfs();</span><br><span class="line">    G.solve();</span><br></pre></td></tr></table></figure>
<h5 id="dfs-详细代码"><a href="#dfs-详细代码" class="headerlink" title="dfs()详细代码"></a>dfs()详细代码</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```java</span><br><span class="line">public void dfs(int v)&#123;</span><br><span class="line">//从根节点出发</span><br><span class="line">    if(v==1)&#123;</span><br><span class="line">        int rootSonsNum=adj[v].getConnectedvertexs().size();</span><br><span class="line">        depthArray=new ArrayList[rootSonsNum];</span><br><span class="line">        for(int i=0;i&lt;rootSonsNum;i++)&#123;</span><br><span class="line">            depthArray[i]=new ArrayList&lt;&gt;();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    marked[v]=true;</span><br><span class="line">    adj[v].setDepth(depth);</span><br><span class="line">    if(adj[v].getDegree()==1)</span><br><span class="line">        depthArray[count].add(adj[v].getDepth());</span><br><span class="line">    depth++;</span><br><span class="line">    for(Integer i:adj[v].getConnectedvertexs())&#123;</span><br><span class="line">        if(!marked[i])&#123;</span><br><span class="line">            dfs(i);</span><br><span class="line">            depth--;</span><br><span class="line">        &#125;</span><br><span class="line">        if(v==1)&#123;</span><br><span class="line">            count++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public void dfs()&#123;</span><br><span class="line">    dfs(1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="solve-代码"><a href="#solve-代码" class="headerlink" title="solve()代码"></a>solve()代码</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```java</span><br><span class="line">public int solve()&#123;</span><br><span class="line">    for(ArrayList&lt;Integer&gt; i:depthArray) &#123;</span><br><span class="line">        Collections.sort(i);</span><br><span class="line">//            i.sort(new Comparator&lt;Integer&gt;() &#123;</span><br><span class="line">//                @Override</span><br><span class="line">//                public int compare(Integer o1, Integer o2) &#123;</span><br><span class="line">//                    if (o1 &gt; o2)</span><br><span class="line">//                        return 1;</span><br><span class="line">//                    else if (o1 == o2)</span><br><span class="line">//                        return 0;</span><br><span class="line">//                    else</span><br><span class="line">//                        return -1;</span><br><span class="line">//                &#125;</span><br><span class="line">//            &#125;);</span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line">注释掉的代码在有些时候会出现</span><br><span class="line">java.lang.IllegalArgumentException: Comparison method violates its general contract!。可见16057179提交的错误提示</span><br><span class="line">*/</span><br><span class="line"></span><br><span class="line">    int res=0;</span><br><span class="line">    for(ArrayList&lt;Integer&gt; i:depthArray)&#123;</span><br><span class="line">        //System.out.println(i);</span><br><span class="line">        int tmpres=i.get(0);</span><br><span class="line">        int tmpIndex=1;</span><br><span class="line">        while(tmpIndex&lt;i.size())&#123;</span><br><span class="line">            tmpres=max(tmpres+1,i.get(tmpIndex));</span><br><span class="line">            tmpIndex++;</span><br><span class="line">        &#125;</span><br><span class="line">        res=max(tmpres,res);</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println(res);</span><br><span class="line">    return res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      
        
          
        
        <div class="post-tags">
          
            <a href="/tags/onlinejudge/" rel="tag"># onlinejudge</a>
          
            <a href="/tags/格式化输出/" rel="tag"># 格式化输出</a>
          
            <a href="/tags/io/" rel="tag"># io</a>
          
            <a href="/tags/线段树/" rel="tag"># 线段树</a>
          
            <a href="/tags/区间查询/" rel="tag"># 区间查询</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/01/01/about/index/" rel="next" title="about">
                <i class="fa fa-chevron-left"></i> about
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2016/02/21/algorithm/oj/PAT/2016-02-21-1010题-Radix-25分/" rel="prev" title="PAT 1010 Radix 25">
                PAT 1010 Radix 25 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Inhaltsverzeichnis
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Übersicht
          </li>
        </ul>
      

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Ivyxjc</p>
              <div class="site-description motion-element" itemprop="description"></div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">96</span>
                    <span class="site-state-item-name">Artikel</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">11</span>
                    <span class="site-state-item-name">Kategorien</span>
                  
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">69</span>
                    <span class="site-state-item-name">schlagwörter</span>
                  
                </div>
              
            </nav>
          

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          

          

          
          

          
            
          
          

        </div>
      </div>

      
      <!--noindex-->
        <div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
            
            
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#A-Infinite-Sequence"><span class="nav-number">1.</span> <span class="nav-text">A:Infinite Sequence</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#代码"><span class="nav-number">1.1.</span> <span class="nav-text">代码</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#B-The-Time"><span class="nav-number">2.</span> <span class="nav-text">B. The Time</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#C-Not-Equal-on-a-Segment"><span class="nav-number">3.</span> <span class="nav-text">C. Not Equal on a Segment</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#题目"><span class="nav-number">3.1.</span> <span class="nav-text">题目</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#解法介绍"><span class="nav-number">3.2.</span> <span class="nav-text">解法介绍</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#IO问题"><span class="nav-number">3.3.</span> <span class="nav-text">IO问题</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#E-Ants-in-Leaves"><span class="nav-number">4.</span> <span class="nav-text">E. Ants in Leaves</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#题目-1"><span class="nav-number">4.1.</span> <span class="nav-text">题目</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#解法"><span class="nav-number">4.2.</span> <span class="nav-text">解法</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#代码实现"><span class="nav-number">4.2.1.</span> <span class="nav-text">代码实现</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#建图"><span class="nav-number">4.2.1.1.</span> <span class="nav-text">建图</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#dfs-详细代码"><span class="nav-number">4.2.1.2.</span> <span class="nav-text">dfs()详细代码</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#solve-代码"><span class="nav-number">4.2.1.3.</span> <span class="nav-text">solve()代码</span></a></li></ol></li></ol></li></ol></li></ol></div>
            

          </div>
        </div>
      <!--/noindex-->
      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Ivyxjc</span>

  

  
</div>


  <div class="powered-by">Erstellt mit  <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v3.7.1</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Design – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> v7.1.2</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=3.4.1"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/utils.js?v=7.1.2"></script>

  <script src="/js/motion.js?v=7.1.2"></script>



  
  


  <script src="/js/schemes/muse.js?v=7.1.2"></script>



  
  <script src="/js/scrollspy.js?v=7.1.2"></script>
<script src="/js/post-details.js?v=7.1.2"></script>



  


  <script src="/js/next-boot.js?v=7.1.2"></script>


  

  

  

  


  


  




  

  

  

  

  

  

  

  

  

  

  

  

  

  

</body>
</html>
